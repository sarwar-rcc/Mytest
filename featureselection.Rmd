---
title: "featureselection"
author: "sarwar"
date: "July 19, 2016"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r packages}
 require(leaps)
```

```{r packages2}
 require(MASS)
```
```{r}
data1 <- read.csv(file.choose(), header=T)
#setwd("d:/desktop/currentwork/teldata.csv")
```
```{r}
shortlist <- data1[,c("timeStamp","UserID", "CONNECT", "epoch_time")]
summary(shortlist)
```
```{r}
library("lattice")
```
```{r}
tstamp <- data1[,c("epoch_time","UserID")]
#xyplot(epoch_time ~ UserID, tstamp)
library("hexbin")
hexbinplot(UserID ~ epoch_time, tstamp,
           scales = list(x = list(log = 10, equispaced.log = FALSE)),
           aspect = 1, bins=50)
```

```{r}
#tstamp <- data1[,c("timeStamp","UserID")]
xyplot(epoch_time ~ UserID, data = tstamp,
  xlab = "Snout vent length (inches) on log scale",
  ylab = "Weight (pounds) on log scale",
  main = "Alligators in Central Florida"
)

```

```{r}
regsubsets(timeStamp ~ epoch_time +UserID + CONNECT ,  data=shortlist, nvmax = 4)
```

```{r}
reg1=regsubsets(timeStamp ~ epoch_time +UserID + CONNECT + user_allowed_authorization + user_succeeded_authentication
+ msisdn_login_submitted,  data=data1, method="backward")
```

```{r}
summary(reg1)
```
```{r}
reg2=regsubsets(timeStamp ~ epoch_time +UserID + CONNECT + user_allowed_authorization + user_succeeded_authentication
+ msisdn_login_submitted,  data=data1, method="backward")
```
#Explanation of the result of summary
#for the best subset of size 1, it puts 1 star next to the variable that's in the best subset of size 1.
#for the best subset of size 2, it puts 2 stars next to the variables that are in the best subset of size 2
```{r}
summary(reg2)
```

```{r}
reg3=regsubsets(timeStamp ~ UserID + CONNECT + user_allowed_authorization,  data=data1, method="backward")
```
```{r reg3}
summary(reg3)
```
# Other useful functions 
```{r}
#reg4=data.frame(y <-c(UserID),x1=c(timeStamp))
```



```{r}
# diagnostic plots 
layout(matrix(c(1,2,3,4),8,8)) # optional 4 graphs/page 
plot(reg2)
```


```{r}
plot(reg2,scale="adjr2")
```
```{r}
#summary(lm(timeStamp~userID))
```

